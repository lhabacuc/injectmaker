!function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(e,t){this.cm=e,this.options=this.buildOptions(t),this.widget=null,this.debounce=0,this.tick=0,this.startPos=this.cm.getCursor(),this.startLen=this.cm.getLine(this.startPos.line).length;var n=this;e.on("cursorActivity",this.activityFunc=function(){n.cursorActivity()})}function n(e,t){var n=e.options.hint;return n?n(e,t):y(e,t)}function i(e){return e.options.disableKeywords&&"keyword"==e.type||e.options.completeSingle===!1&&1==e.list.length||e.options.closeOnUnfocus===!1?"":f}function o(e){return-1==e.text.toLowerCase().indexOf(v.toLowerCase())?null:0}function r(e,t){var n=e.getTokenAt(t);return t.ch==n.end&&""!=n.string&&(n=e.getTokenAt(new c(t.line,t.ch+1))),n}function l(e,t){for(var n=t.line,i=t.ch,o=e.getLine(n);i&&/\s/.test(o.charAt(i-1));)--i;for(var r=i,l=i;l<o.length&&/[\w$]/.test(o.charAt(l));)++l;for(;r&&/[\w$]/.test(o.charAt(r-1));)--r;var s={line:n,ch:r},a={line:n,ch:l};return{start:s,end:a,string:o.slice(r,l),type:null}}function s(e,t){for(var n=e.options.hint.hintText,i=[],o="string"==typeof n?n:"{",r=0;r<t.length;r++)"string"==typeof t[r]?i.push({text:t[r],displayText:null}):i.push({text:"string"==typeof t[r].text?t[r].text:t[r],displayText:"string"==typeof t[r].displayText?t[r].displayText:null,className:t[r].className||null,render:t[r].render||null,hint:t[r].hint||null});return i}function a(e,t){var n=document.createElement("ul");n.className="CodeMirror-hints "+t;for(var i=0;i<e.length;i++){var o=e[i],r=document.createElement("li");r.className=o.className||"",r.setAttribute("data-index",i);var l=r;if(o.render){var s=o.render(o,r);l="string"==typeof s?r:s}else o.displayText&&(l.appendChild(document.createTextNode(o.displayText))),l.appendChild(document.createTextNode(o.text));r.hintId=o.hintId,n.appendChild(r)}return n}function u(e){for(;e&&(!e.hint||!e.list);)e=e.parentNode;return e}function h(e){return e&&e.list.length&&(e.selectedHint<0&&(e.selectedHint=0),e.selectedHint>=e.list.length&&(e.selectedHint=e.list.length-1),e.widget.changeActive(e.selectedHint),e.widget.options.completeSingle&&1==e.list.length)}function p(e){e.widget&&e.widget.close(),e.onClose&&e.onClose()}e.showHint=function(i,o){if(o=o?Object.create(o):{},o.hint=o.hint||n,"string"==typeof o.hint&&(o.hint={async:!0},"string"==typeof o.hint.async&&(o.hint.async=o.hint.async)),o.async===undefined&&(o.async=o.hint.async),o.forceComplete===undefined&&(o.forceComplete=!1),o.closeCharacters===undefined&&(o.closeCharacters=/[\s()\[\]{};:>,]/),o.closeOnUnfocus=o.closeOnUnfocus!==!1,o.closeOnEnter=o.closeOnEnter!==!1,o.container=o.container||document.body,i.somethingSelected())return void p(e.keyMap.auto);var r=i.getHelper(i.getCursor(),"hint");o.path="string"==typeof r?r:r&&r.path,o.onClose=o.onClose||p,o.words=o.words||i.getOption("hintWords");var l=new t(i,o);return o.disableKeywords&&"string"==typeof o.words&&(o.words=o.words.replace(/\b(if|for|while|var|const|let|function|return|break|continue)\b/g,"")),l.update(!0),l};var c=e.Pos;t.prototype={close:function(){this.active()&&(this.cm.state.completionActive=null,this.tick=null,this.cm.off("cursorActivity",this.activityFunc),this.widget&&this.data&&(this.widget.close(),this.widget=null,this.data=null))},active:function(){return this.cm.state.completionActive==this},pick:function(e,t){var n=e.list[t];n.hint?n.hint(this.cm,{text:n.text,origin:"complete",i:t},e):(this.cm.replaceRange("string"==typeof n?n:n.text,n.from||e.from,n.to||e.to,"complete"),this.cm.signalLater("pick",this.cm,n.text,t)),this.close()},cursorActivity:function(){if(this.debounce&&(clearTimeout(this.debounce),this.debounce=0),this.active()){var e=this.startPos;if(!this.data||!this.data.list.length||this.cm.getCursor().line!=e.line||this.cm.getCursor().ch<e.ch||this.cm.getLine(e.line).length-this.cm.getCursor().ch!=this.startLen-e.ch)return this.close();var t=this.cm.getCursor(),n=this.cm.getRange(this.cm.getCursor(),this.data.from),i=new RegExp("^"+e.ch+"\\S*"),o=n.match(i);if(!o||this.options.closeCharacters.test(n))return this.close();o=o[0];var r=this;this.debounce=setTimeout(function(){r.update(o)},100)}},update:function(e){if(this.tick==null&&(this.tick=0),null!=this.data){var t=++this.tick,n=this.options.hint,i=this.cm.getCursor(),o={from:this.data.from,to:i};if(this.cm.getSelection()){var r=!0;o=this.cm.getSelection()}var l=this;n(this.cm,function(n,s){if(t!=l.tick&&!r)return void l.tick++;var a=n&&n.list.length>0;if(r&&!a)return void l.close();if(a&&o&&n.from==o.from&&n.to==o.to){for(var u,h=0;h<n.list.length;h++)if(n.list[h].text==e){u=n.list[h];break}if(!u)for(var h=0;h<n.list.length;h++)if(0===o.selection.toLowerCase().indexOf(n.list[h].text.toLowerCase())){u=n.list[h];break}if(!u){l.data=n,l.widget?l.widget.close():(l.widget=new d(l.cm,l.data,l.options.tooltips),l.widget.id="cm-completions"),l.widget.update()}}else if(a&&(!s||l.options.forceComplete)){l.data=n,l.widget?l.widget.close():(l.widget=new d(l.cm,l.data,l.options.tooltips),l.widget.id="cm-completions"),l.widget.update()}else l.close(),l.tick=null},o,e)}}},buildOptions:function(e){var t=e.hint||e;return"object"!=typeof t&&(t={hint:t}),e&&(e.hint=null),e=Object.create(e||null),e.hint=t.hint,e}};var d=e.HintWidget=function(e,t,n){this.completion=t,this.data=t,this.cm=e,this.options=n,this.doc=e.getDoc(),this.selectedHint=t.selectedHint||0;var i=this.completion,o=i.hint,r=this.options.tooltips;if(o.async)var l=setInterval(function(){i.hints&&(clearInterval(l),h(i))},100);this.hints=this.completion.list=s(e,this.completion.list),h(i),i.hint=o,i.widget=this,this.hints=this.completion.list=s(e,this.completion.list),h(i),i.widget=this;var u=i.list,p=this;if(r)for(var m=0;m<u.length;m++)r[u[m].text]&&(u[m].render=function(e,t,n){var i=n.text;if(r[i]){var o=r[i],l=document.createElement("div");return l.className="CodeMirror-tooltip",l.innerHTML=o,{node:l,text:i}}}),p.hints=u,this.pixelPos=this.cm.cursorCoords(i.from),this.hints.length>50&&(this.element=a(this.hints.slice(0,50),"CodeMirror-hints up50"),this.element.scrollTop=0),this.element=a(this.hints,"CodeMirror-hints"),e.addKeyMap(this.keyMap={Enter:this.pick,Tab:this.pick,Esc:this.close,Home:this.top,End:this.bottom,PageUp:this.pageUp,PageDown:this.pageDown,Up:this.up,Down:this.down}),e.addKeyMap(this.singleKeyMap={Enter:this.pickIfSelected,Tab:this.pickIfSelected,Esc:this.close}),this.completion.closeOnUnfocus&&(e.on("blur",this.onBlur=function(){p.close()}),e.on("focus",this.onFocus=function(){p.widget&&p.update()}));var g=this.options.container||document.body;g.appendChild(this.element)};d.prototype={close:function(){if(this.completion.widget==this){this.completion.widget=null,this.hints=null,this.completion.list=null,this.cm.removeKeyMap(this.keyMap),this.cm.removeKeyMap(this.singleKeyMap),this.completion.closeOnUnfocus&&(this.cm.off("blur",this.onBlur),this.cm.off("focus",this.onFocus)),this.completion=null;var e=this.element.parentNode;e&&e.removeChild(this.element),this.element=null}},update:function(){if(this.data&&this.data.list&&this.data.list.length){this.screenAmount||(this.screenAmount=Math.floor((window.innerHeight-120)/13)||10),this.screen||(this.screen=0);var e=this.data.list,t=e.length,n=this.data.selectedHint;this.completion.widget==this&&(document.activeElement==this.element.querySelector(".CodeMirror-hint-active")||this.element.querySelector(".CodeMirror-hint-active").scrollIntoView()),this.selectedHint=n>=0&&n<t?n:0;var i=this.screen*this.screenAmount;if(t<=50)var o=e;else if(i+3*this.screenAmount>t)var o=e.slice(Math.max(0,t-3*this.screenAmount),t);else{var l=i,s=i+3*this.screenAmount;l>0&&(l=Math.max(0,l-this.screenAmount/2)),s<t&&(s=Math.min(t,s+this.screenAmount/2));var o=e.slice(l,s)}var u=this.element.parentNode;u&&u.removeChild(this.element),this.element=a(o,"CodeMirror-hints"),this.element.style.position="absolute",this.element.id="cm-completions";var h=this.cm.cursorCoords();if(h.ch!=this.pixelPos.ch||h.line!=this.pixelPos.line){this.pixelPos=h;var p=this.options.container;p||(p=document.body);var c,d,m,g=h.left-this.cm.getScrollInfo().left;g+this.element.offsetWidth>window.innerWidth-25?(c=g-(this.element.offsetWidth-10)+"px",this.element.className+=" CodeMirror-hint-right"):(c=g+"px",this.element.className+=" CodeMirror-hint-left"),this.element.style.left=c;var v=window.innerHeight;d=h.bottom+this.element.offsetHeight<=window.innerHeight?(h.bottom+3)+"px":h.top-this.element.offsetHeight-3+"px",this.element.style.top=d,p.appendChild(this.element),this.selectedHint=n>=0&&n<o.length?n:0,this.changeActive(this.selectedHint,!1)}},pickIfSelected:function(e){var t=e.state.completionActive;return t&&t.data&&t.widget==this&&this.selectedHint>=0&&this.selectedHint<this.data.list.length?(this.pick(e),!0):i(this.data,this.data.from||e.getCursor())},pick:function(e){var t=e.state.completionActive.widget;if(t&&t.data&&t.data.list&&t.selectedHint>=0&&t.selectedHint<t.data.list.length){var n=t.data,i=t.data.list[t.selectedHint];i.className="CodeMirror-hint-selected",this.cm.operation(function(){if(i.hint)i.hint(this.cm,{text:i.text,origin:"complete",i:t.selectedHint},n);else{var e=i.from||n.from,o=i.to||n.to;this.cm.replaceRange(i.text,e,o,"complete")}this.close()})}},changeActive:function(e,t){if(this.selectedHint!=e){if(this.selectedHint=e,this.completion.selectedHint=e,this.element){var n=this.element.childNodes;if(n.length>0){n[this.selectedHint]&&(n[this.selectedHint].className="CodeMirror-hint-active"),t&&n[this.selectedHint]&&n[this.selectedHint].scrollIntoView(!1)}}this.cm.refresh()}},top:function(e){this.selectedHint=0,this.changeActive(0,!0)},bottom:function(e){this.selectedHint=this.data.list.length-1,this.changeActive(this.data.list.length-1,!0)},pageUp:function(e){e.stopPropagation();var t=this.completion.list.length;this.selectedHint=Math.max(0,this.selectedHint-10),this.changeActive(this.selectedHint,!0)},pageDown:function(e){e.stopPropagation();var t=this.completion.list.length;this.selectedHint=Math.min(t-1,this.selectedHint+10),this.changeActive(this.selectedHint,!0)},up:function(e){e.stopPropagation();var t=this.completion.list.length;this.selectedHint=Math.max(0,this.selectedHint-1),this.changeActive(this.selectedHint,!0)},down:function(e){e.stopPropagation();var t=this.completion.list.length;this.selectedHint=Math.min(t-1,this.selectedHint+1),this.changeActive(this.selectedHint,!0)}};var m,g={8:"Backspace",9:"Tab",13:"Enter",27:"Esc",33:"PageUp",34:"PageDown",35:"End",36:"Home",38:"Up",40:"Down",46:"Delete"},v="",f={up:function(e){e.close(),e.cm.execCommand("goLineUp")},down:function(e){e.close(),e.cm.execCommand("goLineDown")},pageUp:function(e){e.close(),e.cm.execCommand("goPageUp")},pageDown:function(e){e.close(),e.cm.execCommand("goPageDown")},home:function(e){e.close(),e.cm.execCommand("goLineStartSmart")},end:function(e){e.close(),e.cm.execCommand("goLineEnd")},tab:function(e){e.close(),e.cm.execCommand("indentAuto")},enter:function(e){e.close(),e.cm.execCommand("newlineAndIndent")},backspace:function(e){e.close(),e.cm.execCommand("delCharBefore")},delete:function(e){e.close(),e.cm.execCommand("delCharAfter")},left:function(e){e.close(),e.cm.execCommand("goCharLeft")},right:function(e){e.close(),e.cm.execCommand("goCharRight")},escape:function(e){e.close(),e.cm.execCommand("clearSearch")}};e.registerHelper("hint","javascript",function(t,n){var i=t.getCursor(),s=t.getTokenAt(i),a=e.innerMode(t.getMode(),s.state);if("json"==a.mode.name)return{from:e.Pos(i.line,s.end),to:e.Pos(i.line,s.end),list:[]};var u=r(t,i),h=u,p=t.getTokenAt(e.Pos(i.line,u.start));"."==p.string&&(h=p);var d=h&&h.string,m=[];if(d&&"."!==d){var g,v,f=0,y=0,b=0;if("."==d.charAt(0)||"?"==d.charAt(0)||"!"==d.charAt(0)){var C=t.getLine(i.line).substr(0,h.start);if(g=C.match(/(\w+)\s*=\s*\{/)){v=g[1];var x=C.substr(g.index);b=x.indexOf("{")+g.index,y=b+1,f=b}else if(g=C.match(/(\w+)\s*=\s*\[/)){v=g[1];var x=C.substr(g.index);b=x.indexOf("[")+g.index,y=b+1,f=b}else if(g=C.match(/(\w+)\s*=\s*\(/)){v=g[1];var x=C.substr(g.index);b=x.indexOf("(")+g.index,y=b+1,f=b}else if(g=C.match(/(\w+)\s*=\s*"/)){v=g[1];var x=C.substr(g.index);b=x.indexOf('"')+g.index,y=b+1,f=b}else if(g=C.match(/(\w+)\s*=\s*'/)){v=g[1];var x=C.substr(g.index);b=x.indexOf("'")+g.index,y=b+1,f=b}}var w,S,k,M;if(f&&t.getLine(i.line).length>y&&(w=t.getLine(i.line)[y]))if("{"===w){for(S=y;S<t.getLine(i.line).length&&"}"!==t.getLine(i.line)[S];)S++;if(S<t.getLine(i.line).length&&"}"===t.getLine(i.line)[S]){k=t.getLine(i.line).substring(y,S);try{M=JSON.parse("{"+k+"}")}catch(A){console.log(A)}}}else if("["===w){for(S=y;S<t.getLine(i.line).length&&"]"!==t.getLine(i.line)[S];)S++;if(S<t.getLine(i.line).length&&"]"===t.getLine(i.line)[S]){k=t.getLine(i.line).substring(y,S);try{M=JSON.parse("["+k+"]")}catch(A){console.log(A)}}}else if("("===w){for(S=y;S<t.getLine(i.line).length&&")"!==t.getLine(i.line)[S];)S++;if(S<t.getLine(i.line).length&&")"===t.getLine(i.line)[S]){k=t.getLine(i.line).substring(y,S);try{M=eval("("+k+")")}catch(A){console.log(A)}}}else if('"'===w){for(S=y+1;S<t.getLine(i.line).length&&'"'!==t.getLine(i.line)[S];)S++;if(S<t.getLine(i.line).length&&'"'===t.getLine(i.line)[S]){k=t.getLine(i.line).substring(y,S+1);try{M=JSON.parse(k)}catch(A){console.log(A)}}}else if("'"===w){for(S=y+1;S<t.getLine(i.line).length&&"'"!==t.getLine(i.line)[S];)S++;if(S<t.getLine(i.line).length&&"'"===t.getLine(i.line)[S]){k=t.getLine(i.line).substring(y,S+1);try{M=JSON.parse(k.replace(/'/g,'"'))}catch(A){console.log(A)}}}}if(d&&/^[\w$]+$/.test(d))for(var O=n&&n.words,P=0;P<O.length;P++)0==O[P].lastIndexOf(d,0)&&m.push(O[P]);else{if(d&&"."==d.charAt(0)){var N=t.getLine(i.line),H=N.substr(0,i.ch),j=H.lastIndexOf("."),I=j>=0&&!/\S/.test(H.slice(j+1,i.ch))?H.slice(0,j):null;null!=I&&(m=m.concat(["constructor","prototype","__proto__"]))}else if(d&&"?"==d.charAt(0)||"!"==d.charAt(0)){var N=t.getLine(i.line),H=N.substr(0,i.ch),j=H.lastIndexOf("?"),T=j>=0&&!/\S/.test(H.slice(j+1,i.ch))?H.slice(0,j):null;null!=T&&(m=m.concat(["constructor","prototype","__proto__"]))}var L=t.getLine(i.line).substring(0,i.ch).lastIndexOf("."),N=t.getLine(i.line).substring(0,i.ch).lastIndexOf("?"),E=t.getLine(i.line).substring(0,i.ch).lastIndexOf("!");if(L>=0){var R="",_=t.getLine(i.line).substring(0,L);if(!(a.state.lastType="variable"))for(var U=_.length-1;U>=0&&/[\w$]/.test(_[U]);U--)R=_[U]+R;for(var P=0;P<O.length;P++)0==O[P].lastIndexOf(R,0)&&m.push(O[P])}if(N>=0){var R="",_=t.getLine(i.line).substring(0,N);if(!(a.state.lastType="variable"))for(var U=_.length-1;U>=0&&/[\w$]/.test(_[U]);U--)R=_[U]+R;for(var P=0;P<O.length;P++)0==O[P].lastIndexOf(R,0)&&m.push(O[P])}if(E>=0){var R="",_=t.getLine(i.line).substring(0,E);if(!(a.state.lastType="variable"))for(var U=_.length-1;U>=0&&/[\w$]/.test(_[U]);U--)R=_[U]+R;for(var P=0;P<O.length;P++)0==O[P].lastIndexOf(R,0)&&m.push(O[P])}}var q={list:m,from:e.Pos(i.line,h.start),to:e.Pos(i.line,h.end)};return q}),e.registerHelper("hint","anyword",function(e,t){var n=t&&t.word||/[\w$]+/,i=t&&t.range||500,s=e.getCursor(),a=Math.max(0,s.ch-i),u=Math.min(s.ch+i,e.getLine(s.line).length),h=l(e,s),c={list:[]},d={},m=h.string,g=h.string,v=h.string.toLowerCase();if(!m.length)return c;c.from=h.start,c.to=h.end;for(var f=s.line,y=Math.max(0,f-i),b=Math.min(e.lineCount(),f+i+1),C=e.getSearchCursor(n,e.Pos(y,0),!0),x=!1;C.findNext()&&C.pos.line<=b;){var w=C.pos.line,S=C.pos.ch,k=e.getRange(C.from(),C.to());if(w==f&&S<=h.end&&S+k.length>=h.start||v.length>0&&k.toLowerCase().lastIndexOf(v,0)==0)x=!0;else if(!t.completeSingle&&t.closeOnUnfocus)continue;var M=k.toLowerCase();d[M]||(d[M]=!0,c.list.push(k))}if(!x||t.closeOnUnfocus===!1||0!=c.list.length)return c}),e.registerHelper("hint","css",function(e,t){var n=e.getCursor(),i=e.getTokenAt(n),r=i.start,l=n.ch-r,s=i.string.substring(0,l);return{list:o(s,!1,"keyword")}}),e.registerHelper("hint","xml",function(e,t){var n=e.getCursor(),i=e.getTokenAt(n),o=t&&t.schemaInfo,r=t&&t.quoteChar||'"',l=t&&t.closeCharacters||">/ ",s="string"==typeof o;s||(o={});var a,u,h=[],c=!1,d=e.getMode(),m=n.line,g=n.ch,v=0,f=i.end>g?i.end:g,y=null;if(i.string.indexOf("<")===0)return{from:e.Pos(m,v),to:e.Pos(m,f),list:[]};var b=i.string.indexOf(">")>=0&&i.string.lastIndexOf("<")<=i.string.indexOf(">");return b?(a=i.string.slice(0,g).split("<").length-1,u=a>0?i.string.substring(i.string.lastIndexOf("<",g-1)+1,g):(i.string.substring(0,g),null),u&&u.indexOf("=")==-1)?(y=u.replace(/'/g,""),{from:e.Pos(m,v),to:e.Pos(m,f),list:o[y]||[]}):{from:e.Pos(m,v),to:e.Pos(m,f),list:[]}}),e.registerHelper("hint","sql",function(e,t){var n=e.getCursor(),i=e.getTokenAt(n),r=i.start,l=n.ch-r,s=i.string.substring(0,l);return{list:o(s)}}),y=function(t,s){var a=t.getCursor(),u=s&&s.range||500,h=t.getLine(a.line),p=Math.max(0,a.ch-u),d=Math.min(h.length,a.ch+u),m=[],g=[],v=h.slice(p,d),f=v.indexOf("."),y=s&&s.caseInsensitive;null!=s&&null!=s.tables&&(g=s.tables);var b=s&&s.words||t.getHelper(a,"hint")||{},C=s&&s.tables||[],x=null,w=null,S=s&&s.defaultTable||"";if("SQL"==b.name&&(b={},b.tables=C,b.defaultTable=S,b.caseInsensitive=y),b.tables&&g.push.apply(g,b.tables),b.defaultTable&&g.push(b.defaultTable),s&&s.schemas)for(var k=0;k<s.schemas.length;k++){var M=s.schemas[k];for(var A in M)g.push.apply(g,M[A])}var O=s&&s.schema||{},P=t.getTokenAt(a);if(P.type&&/\b(?:string|comment)\b/.test(P.type))return null;var N=!1;if(P.string.indexOf('"')>-1){var H=P.string.slice(0,a.ch-P.start);if(H.match(/"$/))return null;N=P.string.slice(0,a.ch-P.start).split('"').length%2===0}else if(P.string.indexOf("'")>-1){var H=P.string.slice(0,a.ch-P.start);if(H.match(/'$/))return null;N=P.string.slice(0,a.ch-P.start).split("'").length%2===0}var j="";if(P.string.indexOf(".")>-1){var H=P.string.slice(0,a.ch-P.start);if(H.match(/\.$/))return null;var I=H.split(".");j=I.length>1?I[I.length-2]:"",j=j.replace(/"|'/g,"").replace(/\w+\(/,""),x=j}n(t,function(e){m=e.list||[]},{word:s&&s.word||/[.`"'[a-zA-Z0-9_]/,range:500,wordList:s&&s.wordList||[],schema:s&&s.schema||{},schemaContext:s&&s.schemaContext||"",defaultTable:s&&s.defaultTable||[],tableName:s&&s.tableName||"",tables:s&&s.tables||[]});for(var T=h.slice(0,a.ch),L=/[^\s(\["']+$/i.exec(T),E=/[`"'\[]+/g,R=L&&L[0].replace(E,""),_=R&&R.toLowerCase(),k=0;k<g.length;k++){var U=g[k];if(!y&&0===U.lastIndexOf(_,0)||y&&0===U.toLowerCase().lastIndexOf(_,0))if("string"==typeof U&&U.indexOf(".")==-1){var q=O[U]||[];for(var D in q)m.push("function"==typeof U?{text:q[D].name,render:q[D].render,className:y&&U.toLowerCase()!==q[D].text.toLowerCase()?"CodeMirror-hint-case-insensitive":null}:y&&U.toLowerCase()!==q[D].toLowerCase()?{text:q[D],displayText:q[D],className:"CodeMirror-hint-case-insensitive"}:q[D])}else{var q=O[U]||[];for(var D in q)m.push(y&&U.toLowerCase()!==q[D].toLowerCase()?{text:q[D],displayText:q[D],className:"CodeMirror-hint-case-insensitive"}:q[D])}}var B=s&&s.tables||[];m.push.apply(m,B);var z=a.ch,J=z;"["==h[J]||"`"==h[J]||'"'==h[J]||"'"==h[J]?z++:J--;for(var W={list:m,from:e.Pos(a.line,z),to:e.Pos(a.line,a.ch),schema:O,defaultTable:b.defaultTable,tableName:x,columns:w},G=0;G<m.length;G++){var K=m[G];if(K.text)W.list[G]=K;else{var F="string"==typeof K?K:K.text;W.list[G]={text:F,displayText:K.displayText||F,className:K.className||null,schemaType:K.schemaType||"column"}}}return W}});